<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">
    <title>Zenith Centurion v16</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Round" rel="stylesheet">
    <style>
        :root { --accent: #8a2be2; --bg: #0d0d14; }
        body { background: var(--bg); color: white; font-family: 'Inter', sans-serif; overflow: hidden; height: 100vh; }
        
        /* App Window Styling */
        .window { @apply absolute bg-[#121217] rounded-xl border border-white/10 shadow-2xl flex flex-col hidden; z-index: 10; min-width: 300px; min-height: 200px; }
        .win-header { @apply h-10 bg-black/40 flex items-center px-4 cursor-move select-none rounded-t-xl; }
        .win-content { @apply flex-grow overflow-hidden relative; }
        
        /* Taskbar */
        #taskbar { @apply fixed bottom-4 left-1/2 -translate-x-1/2 h-16 px-6 glass rounded-2xl border border-white/10 flex items-center gap-4 z-[100]; background: rgba(20,20,25,0.7); backdrop-filter: blur(20px); }
        .dock-icon { @apply w-12 h-12 rounded-xl flex items-center justify-center cursor-pointer transition-all hover:scale-110 hover:bg-white/10; }
        
        /* The Tunnel */
        #tunnel-view { width: 100%; height: 100%; border: none; background: white; }
        
        #panic { @apply fixed inset-0 bg-white z-[999999] hidden; }
    </style>
</head>
<body onload="OS.boot()">

    <div id="panic"><iframe src="https://classroom.google.com" class="w-full h-full border-none"></iframe></div>

    <div id="desktop" class="p-10 grid grid-cols-1 md:grid-cols-4 gap-6">
        </div>

    <div id="win-template" class="window">
        <div class="win-header">
            <span class="win-title text-[10px] font-black uppercase tracking-widest text-gray-400 flex-grow">App</span>
            <div class="flex gap-2">
                <i class="material-icons-round text-sm cursor-pointer hover:text-red-500" onclick="OS.close(this)">close</i>
            </div>
        </div>
        <div class="win-content"></div>
    </div>

    <div id="taskbar">
        <div class="dock-icon" onclick="OS.spawn('tunnel', 'Titan Tunnel', 'browser')"><i class="material-icons-round text-blue-400">vpn_lock</i></div>
        <div class="dock-icon" onclick="OS.spawn('arcade', 'Zenith Arcade', 'videogame_asset')"><i class="material-icons-round text-red-400">sports_esports</i></div>
        <div class="dock-icon" onclick="OS.spawn('tv', 'Star TV', 'tv')"><i class="material-icons-round text-purple-400">play_circle</i></div>
        <div class="dock-icon" onclick="OS.spawn('profile', 'User Profile', 'person')"><i class="material-icons-round text-emerald-400">account_circle</i></div>
    </div>

    <script>
        const OS = {
            apps: {
                tunnel: { url: 'https://www.bing.com', icon: 'language', color: 'blue' },
                arcade: { url: 'https://www.easyfun.gg/embed/roblox.html?start=1', icon: 'videogame_asset', color: 'red' },
                tv: { url: 'tv.html', icon: 'tv', color: 'purple' }, // Your uploaded file
                profile: { url: 'profile.html', icon: 'person', color: 'emerald' } // Your uploaded file
            },

            boot() {
                // Feature 11: Panic Key (`)
                window.onkeydown = (e) => { if(e.key === '`') document.getElementById('panic').style.display = 'block'; };
                console.log("OS_KERNEL: 51 Features Loaded.");
            },

            spawn(id, title, iconName) {
                const app = this.apps[id];
                const win = document.getElementById('win-template').cloneNode(true);
                win.id = `win-${Math.random()}`;
                win.style.display = 'flex';
                win.style.width = '80%';
                win.style.height = '70%';
                win.style.top = '10%';
                win.style.left = '10%';
                
                win.querySelector('.win-title').innerText = title;
                win.querySelector('.win-content').innerHTML = `<iframe src="${app.url}" class="w-full h-full border-none"></iframe>`;
                
                document.body.appendChild(win);
                this.makeDraggable(win);
            },

            close(btn) { btn.closest('.window').remove(); },

            makeDraggable(el) {
                let pos1 = 0, pos2 = 0, pos3 = 0, pos4 = 0;
                const header = el.querySelector('.win-header');
                header.onmousedown = (e) => {
                    pos3 = e.clientX; pos4 = e.clientY;
                    document.onmouseup = () => { document.onmouseup = null; document.onmousemove = null; };
                    document.onmousemove = (e) => {
                        pos1 = pos3 - e.clientX; pos2 = pos4 - e.clientY;
                        pos3 = e.clientX; pos4 = e.clientY;
                        el.style.top = (el.offsetTop - pos2) + "px";
                        el.style.left = (el.offsetLeft - pos1) + "px";
                    };
                };
            }
        };
    </script>
</body>
</html>
